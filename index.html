<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F√ºr dich mein Liebe ‚ù§Ô∏è</title>
    <!-- T·∫£i Tailwind CSS ƒë·ªÉ t·∫°o giao di·ªán ƒë·∫πp v√† responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i Three.js cho hi·ªáu ·ª©ng 3D tr√°i tim -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* Thi·∫øt l·∫≠p font Inter cho to√†n b·ªô trang */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f3f3; /* M√†u n·ªÅn nh·∫π nh√†ng */
        }
        /* ƒê·∫£m b·∫£o canvas Three.js chi·∫øm h·∫øt k√≠ch th∆∞·ªõc container */
        #heart-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* Ban ƒë·∫ßu ·∫©n ƒëi */
            z-index: 10;
            background-color: #000000;
        }
        /* CSS cho bi·ªÉu t∆∞·ª£ng ·ªï kh√≥a */
        .lock-icon {
            font-size: 4rem;
            color: #ef4444; /* M√†u ƒë·ªè l√£ng m·∫°n */
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
        /* Th√™m hi·ªáu ·ª©ng l·∫Øc nh·∫π cho ·ªï kh√≥a */
        .shake {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            20% { transform: translate(-1px, -2px) rotate(-1deg); }
            40% { transform: translate(-3px, 0px) rotate(1deg); }
            60% { transform: translate(3px, 2px) rotate(0deg); }
            80% { transform: translate(1px, -1px) rotate(-1deg); }
            100% { transform: translate(-1px, 2px) rotate(1deg); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <!-- Container cho hi·ªáu ·ª©ng 3D tr√°i tim (Ban ƒë·∫ßu ·∫©n) -->
    <div id="heart-container"></div>

    <!-- M√†n h√¨nh kh√≥a (Hi·ªÉn th·ªã ban ƒë·∫ßu) -->
    <div id="lock-screen" class="p-8 bg-white shadow-2xl rounded-2xl w-full max-w-sm md:max-w-md transition-opacity duration-1000 ease-in-out z-20">
        <div class="text-center mb-6">
            <!-- Bi·ªÉu t∆∞·ª£ng ·ªï kh√≥a (S·ª≠ d·ª•ng Emoji) -->
            <div id="lock-visual" class="lock-icon mx-auto mb-4" role="img" aria-label="·ªî kh√≥a">üîí</div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">M·ªü kh√≥a tr√°i tim anh ƒëi </h1>
            <p class="text-sm text-gray-500">Nh·∫≠p t√™n em ƒë·ªÉ m·ªü kh√≥a tr√°i tim anh n√® </p>
        </div>

        <form id="lock-form" class="space-y-4">
            <div>
                <label for="full-name" class="block text-sm font-medium text-gray-700 mb-1">H·ªç v√† T√™n </label>
                <input type="text" id="full-name" placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn A" required
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-pink-500 focus:border-pink-500 transition duration-300 shadow-sm">
            </div>
            
            <button type="submit"
                    class="w-full bg-pink-600 text-white py-3 rounded-lg font-semibold hover:bg-pink-700 transition duration-300 shadow-lg transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50">
                M·ªü Kh√≥a
            </button>
        </form>
        
        <!-- Khu v·ª±c hi·ªÉn th·ªã th√¥ng b√°o l·ªói -->
        <div id="message-box" class="mt-4 text-center text-red-500 font-medium hidden">
            <!-- N·ªôi dung th√¥ng b√°o l·ªói s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
        </div>
    </div>

    <script>
        // --- C√ÄI ƒê·∫∂T C·ª¶A B·∫†N (QUAN TR·ªåNG) ---
        // 1. CH·ªàNH S·ª¨A T√äN B√ç M·∫¨T
        // L∆∞u √Ω: Chu·ªói n√†y s·∫Ω ƒë∆∞·ª£c so s√°nh v·ªõi t√™n nh·∫≠p v√†o. N√™n chu·∫©n h√≥a v·ªÅ ch·ªØ th∆∞·ªùng ƒë·ªÉ tr√°nh l·ªói vi·∫øt hoa/th∆∞·ªùng.
        const SECRET_NAME = "Phan Nga "; 
        const LOVER_NAME = "Meine Liebe"; // T√™n hi·ªÉn th·ªã sau khi m·ªü kh√≥a
        // --- K·∫æT TH√öC C√ÄI ƒê·∫∂T ---


        // C√°c ph·∫ßn t·ª≠ DOM
        const lockScreen = document.getElementById('lock-screen');
        const heartContainer = document.getElementById('heart-container');
        const lockForm = document.getElementById('lock-form');
        const fullNameInput = document.getElementById('full-name');
        const messageBox = document.getElementById('message-box');
        const lockVisual = document.getElementById('lock-visual');

        // H√†m chu·∫©n h√≥a chu·ªói (lo·∫°i b·ªè kho·∫£ng tr·∫Øng th·ª´a v√† chuy·ªÉn v·ªÅ ch·ªØ th∆∞·ªùng)
        function normalizeString(str) {
            return str.trim().toLowerCase().replace(/\s+/g, ' ');
        }

        // X·ª≠ l√Ω s·ª± ki·ªán g·ª≠i form
        lockForm.addEventListener('submit', function(e) {
            e.preventDefault();
            messageBox.classList.add('hidden');
            lockVisual.classList.remove('shake'); // D·ª´ng hi·ªáu ·ª©ng l·∫Øc n·∫øu c√≥

            const enteredName = normalizeString(fullNameInput.value);
            const secret = normalizeString(SECRET_NAME);

            if (enteredName === secret) {
                // T√™n ƒë√∫ng -> M·ªü kh√≥a v√† hi·ªÉn th·ªã tr√°i tim
                unlockAndShowHeart();
            } else {
                // T√™n sai -> Hi·ªÉn th·ªã th√¥ng b√°o l·ªói v√† l·∫Øc ·ªï kh√≥a
                messageBox.textContent = "Sai t√™n r·ªìi! H√£y nh·∫≠p ch√≠nh x√°c 'H·ªç v√† T√™n' c·ªßa em ";
                messageBox.classList.remove('hidden');
                lockVisual.classList.add('shake');
                setTimeout(() => lockVisual.classList.remove('shake'), 2000); // D·ª´ng l·∫Øc sau 2s
            }
        });

        // --- CHU·∫®N B·ªä THREE.JS V√Ä HI·ªÜU ·ª®NG TR√ÅI TIM ---

        let scene, camera, renderer, particles, geometry, material;
        let animationFrameId = null;

        function unlockAndShowHeart() {
            // 1. ·∫®n m√†n h√¨nh kh√≥a
            lockScreen.style.opacity = '0';
            setTimeout(() => {
                lockScreen.classList.add('hidden');
                // 2. Hi·ªán container 3D
                heartContainer.style.display = 'block';
                // 3. Kh·ªüi t·∫°o v√† b·∫Øt ƒë·∫ßu hi·ªáu ·ª©ng 3D
                initThreeJS();
                // Thay ƒë·ªïi ti√™u ƒë·ªÅ v√† tin nh·∫Øn t·ªè t√¨nh
                document.title = `${LOVER_NAME}, Mein Herz geh√∂rt dir !!!‚ù§Ô∏è`;
                const confessionMessage = document.createElement('div');
                confessionMessage.className = 'absolute top-0 left-0 w-full h-full flex items-center justify-center text-center p-4 z-50 pointer-events-none';
                confessionMessage.innerHTML = `
                    <div class="bg-white/80 backdrop-blur-sm p-6 md:p-10 rounded-xl shadow-2xl animate-pulse">
                        <p class="text-3xl md:text-5xl font-extrabold text-pink-600 mb-4">${LOVER_NAME}</p>
                        <p class="text-lg md:text-2xl text-gray-800">Du hast mein Herz ge√∂ffnet . Vielen Dank mein Schatz! </p>
                        <p class="text-base text-gray-500 mt-4"></p>
                    </div>
                `;
                document.body.appendChild(confessionMessage);

            }, 800);
        }

        // H√†m t·∫°o h√¨nh tr√°i tim 3D (d·ª±a tr√™n c√¥ng th·ª©c to√°n h·ªçc)
        function getHeartPoint(t, size = 1) {
            const x = size * 16 * Math.pow(Math.sin(t), 3);
            const y = size * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            const z = 0; // ƒê·ªÉ ƒë∆°n gi·∫£n, ta t·∫°o tr√°i tim 2D v√† bi·∫øn n√≥ th√†nh 3D b·∫±ng c√°ch xoay v√† ph√¢n t√°n
            return new THREE.Vector3(x, y, z);
        }

        function initThreeJS() {
            // C·∫•u h√¨nh c∆° b·∫£n
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            heartContainer.appendChild(renderer.domElement);
            scene.background = new THREE.Color(0x000000); // N·ªÅn ƒëen cho hi·ªáu ·ª©ng h·∫°t n·ªïi b·∫≠t

            // Thi·∫øt l·∫≠p v·ªã tr√≠ camera
            camera.position.z = 80;

            // --- T·∫†O H·ªÜ TH·ªêNG H·∫†T TR√ÅI TIM ---
            const particleCount = 20000;
            geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            const sizes = new Float32Array(particleCount);

            const color = new THREE.Color();
            const heartSize = 4; // K√≠ch th∆∞·ªõc t·ªïng th·ªÉ c·ªßa tr√°i tim

            for (let i = 0; i < particleCount; i++) {
                // S·ª≠ d·ª•ng c√¥ng th·ª©c tr√°i tim 2D, th√™m bi·∫øn th·ªÉ Z ng·∫´u nhi√™n ƒë·ªÉ t·∫°o ƒë·ªô s√¢u 3D
                const t = Math.random() * 2 * Math.PI; // g√≥c
                const heartPoint = getHeartPoint(t, heartSize);

                // Th√™m ƒë·ªô s√¢u (Z) ng·∫´u nhi√™n v√† bi·∫øn d·∫°ng nh·∫π
                const radius = Math.random() * heartSize * 0.5; // B√°n k√≠nh ph√¢n t√°n
                const angle = Math.random() * 2 * Math.PI;
                const depth = Math.random() * heartSize * 0.5 - heartSize * 0.25;

                positions[i * 3 + 0] = heartPoint.x + radius * Math.cos(angle);
                positions[i * 3 + 1] = heartPoint.y + radius * Math.sin(angle);
                positions[i * 3 + 2] = heartPoint.z + depth;

                // T·∫°o m√†u s·∫Øc (H·ªìng, ƒë·ªè, t√≠m l√£ng m·∫°n)
                const hue = (Math.random() * 0.1) + 0.9; // T·ª´ 0.9 ƒë·∫øn 1.0 (m√†u ƒë·ªè -> h·ªìng)
                color.setHSL(hue % 1, 1.0, 0.5 + Math.random() * 0.3); // TƒÉng ƒë·ªô s√°ng ng·∫´u nhi√™n
                colors[i * 3 + 0] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;

                // K√≠ch th∆∞·ªõc h·∫°t
                sizes[i] = Math.random() * 2 + 1;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1).setUsage(THREE.DynamicDrawUsage));

            // Shader Material: ƒê·ªÉ c√°c h·∫°t c√≥ th·ªÉ thay ƒë·ªïi k√≠ch th∆∞·ªõc v√† m√†u s·∫Øc theo th·ªùi gian
            material = new THREE.PointsMaterial({
                size: 1, // K√≠ch th∆∞·ªõc c∆° b·∫£n
                vertexColors: true,
                blending: THREE.AdditiveBlending, // T·∫°o hi·ªáu ·ª©ng ph√°t s√°ng
                transparent: true,
                opacity: 0.8,
            });

            particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // B·∫Øt ƒë·∫ßu v√≤ng l·∫∑p animation
            animate();
            window.addEventListener('resize', onWindowResize);
        }

        function animate() {
            animationFrameId = requestAnimationFrame(animate);

            // Xoay nh·∫π tr√°i tim
            particles.rotation.y += 0.005;
            particles.rotation.z += 0.002;

            // Hi·ªáu ·ª©ng "ƒë·∫≠p" nh·∫π nh√†ng b·∫±ng c√°ch thay ƒë·ªïi k√≠ch th∆∞·ªõc h·∫°t
            const time = Date.now() * 0.005;
            const positions = geometry.attributes.position.array;
            const sizes = geometry.attributes.size.array;
            
            // L·∫∑p qua t·∫•t c·∫£ c√°c h·∫°t
            for (let i = 0; i < positions.length / 3; i++) {
                // Thay ƒë·ªïi v·ªã tr√≠ y nh·∫π nh√†ng (Hi·ªáu ·ª©ng tr√¥i)
                positions[i * 3 + 1] += Math.sin(time + i) * 0.01; 

                // Hi·ªáu ·ª©ng "ƒë·∫≠p" (Pulsing size)
                sizes[i] = (Math.sin(time * 0.5 + i * 0.1) + 1.5) * 1.5 + 1;
            }

            geometry.attributes.position.needsUpdate = true;
            geometry.attributes.size.needsUpdate = true;
            
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

    </script>
</body>
</html>